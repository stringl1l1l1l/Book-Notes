# Rustç¨‹åºè®¾è®¡è¯­è¨€
## cargoåŸºç¡€
- **æ–°å»ºcargoé¡¹ç›®**
```
cargo new <project name>  
```
è¯¥å‘½ä»¤ç”Ÿæˆçš„é¡¹ç›®ç›®å½•ç»“æ„ï¼š  
src æºä»£ç ç›®å½•  
Cargo.toml è®°å½•é¡¹ç›®åŒ…ä¾èµ–  
.gitignore  

- **æ„å»ºcargoé¡¹ç›®**
```
cargo build             // debugæ¨¡å¼
cargo build âˆ’âˆ’release   // releaseæ¨¡å¼ï¼Œé€Ÿåº¦æ›´å¿«
```
è¯¥å‘½ä»¤é¢å¤–ç”Ÿæˆçš„æ–‡ä»¶å’Œç›®å½•ï¼š  
target  ç›®æ ‡æ–‡ä»¶ç›®å½•  
Cargo.lock è®°å½•ä¾èµ–åŒ…ç‰ˆæœ¬ï¼Œç¡®ä¿å¯é‡ç°æ„å»º  

- **æ„å»ºå¹¶è¿è¡Œcargoé¡¹ç›®**
```
cargo run
```

- **æ£€æŸ¥cargoé¡¹ç›®æ˜¯å¦æœ‰ç¼–è¯‘é”™è¯¯ï¼Œä¸ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶**
```
cargo check
```

## ruståŸºæœ¬è¯­æ³•  
æ ‡æ³¨ğŸ§ä»£è¡¨ç›¸æ¯”äºC/C++ï¼Œrustçš„æ¯”è¾ƒæ˜æ˜¾çš„ä¸åŒä¹‹å¤„ã€‚  
### å˜é‡å’Œå¯å˜æ€§
- **å˜é‡ variables**  
ğŸ§rustä¸­å˜é‡ä½¿ç”¨*let*å…³é”®å­—åˆ›å»ºï¼Œé»˜è®¤æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ã€‚è‹¥å¸Œæœ›åˆ›å»ºå¯å˜å˜é‡ï¼Œéœ€æ·»åŠ *mut*å…³é”®å­—ã€‚
```rust
let mut x = 5;
println!("The value of x is: {x}");
x = 6;
println!("The value of x is: {x}");
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
The value of x is: 5
The value of x is: 6
```

- **å¸¸é‡ constants**  
rustä¸­å¸¸é‡ä½¿ç”¨*const*å…³é”®å­—åˆ›å»ºï¼Œå¿…é¡»æ³¨æ˜å€¼çš„ç±»å‹ï¼Œå¿…é¡»èµ‹å€¼ï¼Œä¸€å®šæ˜¯ä¸å¯å˜çš„ï¼Œæ— æ³•æ·»åŠ *mut*å…³é”®å­—ã€‚  
```rust
const THREE_HOURS_IN_SECONDS: u32 = 60 * 60 * 3;
```
- **ğŸ§éšè— shadowing**  
åœ¨rustä¸­ï¼Œé‡æ–°å¯¹åŒåå˜é‡è¿›è¡Œé‡å¤å£°æ˜ï¼Œæ–°å£°æ˜çš„å˜é‡ä¼šè¦†ç›–æ—§å˜é‡ï¼Œç§°ä¸ºéšè—ï¼ˆshadowingï¼‰ã€‚å¯ä»¥å¯¹åŒä¸€ä¸ªå˜é‡éšè—å¤šæ¬¡ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ä¸åŒç±»å‹è¿›è¡Œéšè—ã€‚éœ€è¦æ³¨æ„éšè—æ˜¯æœ‰ä½œç”¨åŸŸçš„ã€‚    
```rust
fn main() {
    let x = 5;
    let x = x + 1;
    {
        let x = x * 2;
        println!("The value of x in the inner scope is: {x}");
    }
    println!("The value of x is: {x}");
}
________________________________________________________________________
The value of x in the inner scope is: 12
The value of x is: 6
```
éšè—å’Œmutçš„åŒºåˆ«ï¼š  
```rust
éšè—ï¼šå¯é€šè¿‡ç¼–è¯‘
let spaces = "   ";           // stringç±»å‹
let spaces = spaces.len();    // usizeç±»å‹

mutï¼šç¼–è¯‘é”™è¯¯
let mut spaces = "   ";
let spaces = spaces.len();
```

### æ•°æ®ç±»å‹  
rustçš„æ•°æ®ç±»å‹åˆ†ä¸ºä¸¤ç±»ï¼šæ ‡é‡ï¼ˆscalarï¼‰å’Œå¤åˆï¼ˆcompoundï¼‰ã€‚  
#### æ ‡é‡ç±»å‹  
å››ç§åŸºæœ¬æ ‡é‡ç±»å‹ï¼šæ•´å‹ã€æµ®ç‚¹å‹ã€å¸ƒå°”ç±»å‹å’Œå­—ç¬¦ç±»å‹ã€‚
- **æ•´å‹**  
i32æ˜¯æ•´å‹æ•°å­—é»˜è®¤ç±»å‹  
<table>
    <tr>
        <td>é•¿åº¦</td> <td>æœ‰ç¬¦å·</td> <td>æ— ç¬¦å·</td>
    </tr>
     <tr>
        <td>8-bit</td> <td>i8</td> <td>u8</td>
    </tr>
     <tr>
        <td>16-bit</td> <td>i16</td> <td>u16</td>
    </tr>
     <tr>
        <td>32-bit</td> <td>i32</td> <td>u32</td>
    </tr>
     <tr>
        <td>64-bit</td> <td>i64</td> <td>u64</td>
    </tr>
    <tr>
        <td>128-bit</td> <td>i128</td> <td>u128</td>
    </tr>
    <tr>
        <td>arch</td> <td>isize</td> <td>usize</td>
    </tr>
</table>  

<table>
<tr>
     <td>Decimal (åè¿›åˆ¶)</td>    <td>98_222</td>
</tr>
<tr>
 <td>Hex (åå…­è¿›åˆ¶)</td>    <td>0xff</td>
</tr>
<tr>
 <td>Octal (å…«è¿›åˆ¶)</td>	    <td>0o77</td>
</tr>
<tr>
 <td>Binary (äºŒè¿›åˆ¶)</td>    <td>0b1111_0000</td>
</tr>
<tr>
 <td>Byte (å•å­—èŠ‚å­—ç¬¦)(ä»…é™äºu8)</td>	 <td>b'A'</td>
</tr>
</table>

æ³¨ï¼šæ•°å­—å­—é¢é‡å¯ä»¥æ·»åŠ ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰åˆ†å‰²æ–¹ä¾¿é˜…è¯»ï¼Œå¦‚1000_0000ç­‰åŒäº10000000  

- **æµ®ç‚¹å‹**  
IEEE-754æ ‡å‡†ï¼Œf32å’Œf64ï¼Œé»˜è®¤ä¸ºf64ã€‚

- **å¸ƒå°”å‹**  
boolç±»å‹å¤§å°ä¸º1ä¸ªå­—èŠ‚ã€‚

- **å­—ç¬¦å‹**  
ğŸ§charç±»å‹å¤§å°ä¸º4ä¸ªå­—èŠ‚ï¼Œä»£è¡¨ä¸€ä¸ªUnicodeæ ‡é‡å€¼ã€‚
```rust
let c = 'z';
let z: char = 'â„¤'; // with explicit type annotation
let heart_eyed_cat = 'ğŸ˜»';
```
#### å¤åˆç±»å‹  
å¤åˆç±»å‹å¯ä»¥å°†å¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªç±»å‹ã€‚rustæœ‰ä¸¤ä¸ªåŸç”Ÿçš„å¤åˆç±»å‹ï¼šå…ƒç»„ï¼ˆtupleï¼‰å’Œæ•°ç»„ï¼ˆarrayï¼‰ã€‚

- **å…ƒç»„ç±»å‹**  
å…ƒç»„æ˜¯ä¸€ä¸ªå°†å¤šä¸ªå…¶ä»–ç±»å‹çš„å€¼ç»„åˆè¿›ä¸€ä¸ªå¤åˆç±»å‹çš„ä¸»è¦æ–¹å¼ã€‚å…ƒç»„é•¿åº¦å›ºå®šï¼Œä¸€æ—¦å£°æ˜ï¼Œå…¶é•¿åº¦ä¸ä¼šå¢å¤§æˆ–ç¼©å°ã€‚
```rust
let tup: (i32, f64, u8) = (500, 6.4, 1);
```
ä¸ºäº†ä»å…ƒç»„ä¸­è·å–å•ä¸ªå€¼ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡å¼åŒ¹é…ï¼ˆpattern matchingï¼‰æ¥è§£æ„ï¼ˆdestructureï¼‰å…ƒç»„å€¼ï¼š
```rust
let tup = (500, 6.4, 1);
let (x, y, z) = tup;
```
æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ç‚¹å·ï¼ˆ.ï¼‰åè·Ÿå€¼çš„ç´¢å¼•æ¥ç›´æ¥è®¿é—®å®ƒä»¬ã€‚ä¾‹å¦‚ï¼š
```rust
let x: (i32, f64, u8) = (500, 6.4, 1);
let five_hundred = x.0;
let six_point_four = x.1;
let one = x.2;
```
ä¸å¸¦ä»»ä½•å€¼çš„å…ƒç»„æœ‰ä¸ªç‰¹æ®Šçš„åç§°ï¼Œå«åš**å•å…ƒï¼ˆunitï¼‰å…ƒç»„**ã€‚è¿™ç§å€¼ä»¥åŠå¯¹åº”çš„ç±»å‹éƒ½å†™ä½œ **()**ï¼Œè¡¨ç¤ºç©ºå€¼æˆ–ç©ºçš„è¿”å›ç±»å‹ã€‚å¦‚æœè¡¨è¾¾å¼ä¸è¿”å›ä»»ä½•å…¶ä»–å€¼ï¼Œåˆ™ä¼šéšå¼è¿”å›å•å…ƒå€¼ã€‚

- **æ•°ç»„ç±»å‹**  
ä¸å…ƒç»„ä¸åŒï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ çš„ç±»å‹å¿…é¡»ç›¸åŒã€‚Rustä¸­çš„æ•°ç»„é•¿åº¦æ˜¯å›ºå®šçš„ã€‚
```rust
let a = [1, 2, 3, 4, 5];
```
å¯ä»¥åƒè¿™æ ·ç¼–å†™æ•°ç»„çš„ç±»å‹ï¼šåœ¨æ–¹æ‹¬å·ä¸­åŒ…å«æ¯ä¸ªå…ƒç´ çš„ç±»å‹ï¼Œåè·Ÿåˆ†å·ï¼Œå†åè·Ÿæ•°ç»„å…ƒç´ çš„æ•°é‡ï¼š
```rust
let a: [i32; 5] = [1, 2, 3, 4, 5];
```
å¯ä»¥é€šè¿‡åœ¨æ–¹æ‹¬å·ä¸­æŒ‡å®šåˆå§‹å€¼åŠ åˆ†å·å†åŠ å…ƒç´ ä¸ªæ•°çš„æ–¹å¼æ¥åˆ›å»ºä¸€ä¸ªæ¯ä¸ªå…ƒç´ éƒ½ä¸ºç›¸åŒå€¼çš„æ•°ç»„ï¼š
```rust
let a = [3; 5]; // [3, 3, 3, 3, 3]
```
è®¿é—®æ•°ç»„å…ƒç´ ï¼š
```rust
let a = [1, 2, 3, 4, 5];

let first = a[0];
let second = a[1];
```
ğŸ§åœ¨æ•°ç»„ä¸­è¶Šç•Œè®¿é—®å…ƒç´ ï¼Œä¼šå¯¼è‡´ä¸€ä¸ªè¿è¡Œæ—¶é”™è¯¯ï¼Œç¨‹åºç«‹å³åœ¨é”™è¯¯å¤„é€€å‡ºã€‚åœ¨Rustä¸­ï¼Œè¿™ç§æƒ…å†µç§°ä¸º*panic*ï¼ŒæŒ‡ç¨‹åºå› ä¸ºé”™è¯¯è€Œé€€å‡ºçš„æƒ…å†µã€‚  
### å‡½æ•°

åœ¨ Rust ä¸­é€šè¿‡è¾“å…¥ `fn` åé¢è·Ÿç€å‡½æ•°åå’Œä¸€å¯¹åœ†æ‹¬å·æ¥å®šä¹‰å‡½æ•°ã€‚  
Rust ä¸å…³å¿ƒå‡½æ•°å®šä¹‰æ‰€åœ¨çš„ä½ç½®ï¼Œåªè¦å‡½æ•°è¢«è°ƒç”¨æ—¶å‡ºç°åœ¨è°ƒç”¨ä¹‹å¤„å¯è§çš„ä½œç”¨åŸŸå†…å°±è¡Œã€‚  

- **å‚æ•°**  
  ğŸ§åœ¨å‡½æ•°ç­¾åä¸­ï¼Œ**å¿…é¡»** å£°æ˜æ¯ä¸ªå‚æ•°çš„ç±»å‹ã€‚è¿™æ˜¯ Rust è®¾è®¡ä¸­ä¸€ä¸ªç»è¿‡æ…é‡è€ƒè™‘çš„å†³å®šï¼šè¦æ±‚åœ¨å‡½æ•°å®šä¹‰ä¸­æä¾›ç±»å‹æ³¨è§£ã€‚  

  ```rust
  fn main() {
      print_labeled_measurement(5, 'h');
  }
  
  fn print_labeled_measurement(value: i32, unit_label: char) {
      println!("The measurement is: {value}{unit_label}");
  }
  ```

- **è¯­å¥å’Œè¡¨è¾¾å¼**  
  ğŸ§Rust æ˜¯ä¸€é—¨åŸºäºè¡¨è¾¾å¼ï¼ˆexpression-basedï¼‰çš„è¯­è¨€ï¼Œè¿™æ˜¯ä¸€ä¸ªéœ€è¦ç†è§£çš„ä¸åŒäºå…¶ä»–è¯­è¨€çš„é‡è¦åŒºåˆ«ã€‚   
  **è¯­å¥**ï¼ˆ*Statements*ï¼‰æ˜¯æ‰§è¡Œä¸€äº›æ“ä½œä½†ä¸è¿”å›å€¼çš„æŒ‡ä»¤ã€‚ **è¡¨è¾¾å¼**ï¼ˆ*Expressions*ï¼‰è®¡ç®—å¹¶äº§ç”Ÿä¸€ä¸ªå€¼ã€‚  
  
  ```rust
  fn main() {
      let x = (let y = 6);
  }
  _________________________________
  compile error!
  ```

  ğŸ§`let y = 6` è¯­å¥å¹¶ä¸è¿”å›å€¼ï¼Œæ‰€ä»¥æ²¡æœ‰å¯ä»¥ç»‘å®šåˆ° `x` ä¸Šçš„å€¼ã€‚è¿™ä¸å…¶ä»–è¯­è¨€ä¸åŒï¼Œä¾‹å¦‚ C å’Œ Rubyï¼Œå®ƒä»¬çš„èµ‹å€¼è¯­å¥ä¼šè¿”å›æ‰€èµ‹çš„å€¼ã€‚åœ¨è¿™äº›è¯­è¨€ä¸­ï¼Œå¯ä»¥è¿™ä¹ˆå†™ `x = y = 6`ï¼Œè¿™æ · `x` å’Œ `y` çš„å€¼éƒ½æ˜¯ `6`ï¼›Rust ä¸­ä¸èƒ½è¿™æ ·å†™ã€‚  
  ```rust
  fn main() {
      let y = {
          let x = 3;
          x + 1
      };
  
      println!("The value of y is: {y}");
  }
  ```
  
  ğŸ§æ³¨æ„ `x+1` è¿™ä¸€è¡Œåœ¨ç»“å°¾æ²¡æœ‰åˆ†å·ï¼Œä¸è§è¿‡çš„å¤§éƒ¨åˆ†ä»£ç è¡Œä¸åŒã€‚**è¡¨è¾¾å¼çš„ç»“å°¾æ²¡æœ‰åˆ†å·ã€‚å¦‚æœåœ¨è¡¨è¾¾å¼çš„ç»“å°¾åŠ ä¸Šåˆ†å·ï¼Œå®ƒå°±å˜æˆäº†è¯­å¥ï¼Œè€Œè¯­å¥ä¸ä¼šè¿”å›å€¼ã€‚**

- **å…·æœ‰è¿”å›å€¼çš„å‡½æ•°**  
  æˆ‘ä»¬å¹¶ä¸å¯¹å‡½æ•°è¿”å›å€¼å‘½åï¼Œä½†è¦åœ¨ç®­å¤´ï¼ˆ`->`ï¼‰åå£°æ˜å®ƒçš„ç±»å‹ã€‚åœ¨ Rust ä¸­ï¼Œå‡½æ•°çš„è¿”å›å€¼ç­‰åŒäºå‡½æ•°ä½“æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ã€‚ä½¿ç”¨ `return` å…³é”®å­—å’ŒæŒ‡å®šå€¼ï¼Œå¯ä»å‡½æ•°ä¸­æå‰è¿”å›ï¼›ä½†å¤§éƒ¨åˆ†å‡½æ•°éšå¼çš„è¿”å›æœ€åçš„è¡¨è¾¾å¼ã€‚  

  ```rust
  fn main() {
      let x = plus_one(5);
      println!("The value of x is: {x}");
  }
  
  fn plus_one(x: i32) -> i32 {
      x + 1
  }
  ```

### æ§åˆ¶æµ

#### ifè¡¨è¾¾å¼

ğŸ§`if`åçš„æ¡ä»¶ **å¿…é¡»** æ˜¯ `bool` å€¼ã€‚å¦‚æœæ¡ä»¶ä¸æ˜¯ `bool` å€¼ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚

- **åœ¨letè¯­å¥ä¸­ä½¿ç”¨if**  
  å› ä¸º `if` æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ `let` è¯­å¥çš„å³ä¾§ä½¿ç”¨å®ƒã€‚

  ```rust
  fn main() {
      let condition = true;
      let number = if condition { 5 } else { 6 };
  
      println!("The value of number is: {number}");
  }
  ```
  è®°ä½ï¼Œä»£ç å—çš„å€¼æ˜¯å…¶æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œè€Œæ•°å­—æœ¬èº«å°±æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ•´ä¸ª `if` è¡¨è¾¾å¼çš„å€¼å–å†³äºå“ªä¸ªä»£ç å—è¢«æ‰§è¡Œã€‚**è¿™æ„å‘³ç€ `if` çš„æ¯ä¸ªåˆ†æ”¯çš„å¯èƒ½çš„è¿”å›å€¼éƒ½å¿…é¡»æ˜¯ç›¸åŒç±»å‹ã€‚**å¦‚æœå®ƒä»¬çš„ç±»å‹ä¸åŒ¹é…ï¼Œå¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œåˆ™ä¼šå‡ºç°ä¸€ä¸ªé”™è¯¯ï¼š  

    ```rust
    fn main() {
        let condition = true;
    
        let number = if condition { 5 } else { "six" };
    
        println!("The value of number is: {number}");
    }
    ```

#### å¾ªç¯  

- **loopå¾ªç¯ï¼ˆæ— é™å¾ªç¯ï¼‰**  

  ```rust
  fn main() {
      loop {
          println!("again!");
      }
  }
  ```
  å¦‚æœå°†è¿”å›å€¼åŠ å…¥ä½ ç”¨æ¥åœæ­¢å¾ªç¯çš„ `break` è¡¨è¾¾å¼ï¼Œå®ƒä¼šè¢«åœæ­¢çš„å¾ªç¯è¿”å›ï¼š

  ```rust
  fn main() {
      let mut counter = 0;
  
      let result = loop {
          counter += 1;
  
          if counter == 10 {
              break counter * 2;
          }
      };
  
      println!("The result is {result}");
  }
  ___________________________________________
  The result is 20
  ```

- **ğŸ§å¾ªç¯æ ‡ç­¾**  
  å¦‚æœå­˜åœ¨åµŒå¥—å¾ªç¯ï¼Œ`break` å’Œ `continue` åº”ç”¨äºæ­¤æ—¶æœ€å†…å±‚çš„å¾ªç¯ã€‚ä½ å¯ä»¥é€‰æ‹©åœ¨ä¸€ä¸ªå¾ªç¯ä¸ŠæŒ‡å®šä¸€ä¸ª **å¾ªç¯æ ‡ç­¾**ï¼ˆ*loop label*ï¼‰ï¼Œç„¶åå°†æ ‡ç­¾ä¸ `break` æˆ– `continue` ä¸€èµ·ä½¿ç”¨ï¼Œä½¿è¿™äº›å…³é”®å­—åº”ç”¨äºå·²æ ‡è®°çš„å¾ªç¯è€Œä¸æ˜¯æœ€å†…å±‚çš„å¾ªç¯ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªåµŒå¥—å¾ªç¯çš„ç¤ºä¾‹ï¼š

  ```rust
  fn main() {
      let mut count = 0;
      'counting_up: loop {
          println!("count = {count}");
          let mut remaining = 10;
  
          loop {
              println!("remaining = {remaining}");
              if remaining == 9 {
                  break;
              }
              if count == 2 {
                  break 'counting_up;
              }
              remaining -= 1;
          }
  
          count += 1;
      }
      println!("End count = {count}");
  }
  ____________________________________________________________
  count = 0
  remaining = 10
  remaining = 9
  count = 1
  remaining = 10
  remaining = 9
  count = 2
  remaining = 10
  End count = 2
  ```
  
- **whileå¾ªç¯**  

  ```rust
  fn main() {
      let mut number = 3;
  
      while number != 0 {
          println!("{number}!");
  
          number -= 1;
      }
  
      println!("LIFTOFF!!!");
  }
  __________________________________
  3!
  2!
  1!
  LIFTOFF!!!
  ```
- **forå¾ªç¯**  

  ```rust
  fn main() {
      let a = [10, 20, 30, 40, 50];
  
      for element in a {
          println!("the value is: {element}");
      }
  }
  __________________________________________________
  the value is: 10
  the value is: 20
  the value is: 30
  the value is: 40
  the value is: 50
  ```
  é€šè¿‡ä½¿ç”¨ rangeï¼Œå®ƒæ˜¯æ ‡å‡†åº“æä¾›çš„ç±»å‹ï¼Œç”¨æ¥ç”Ÿæˆä»ä¸€ä¸ªæ•°å­—å¼€å§‹åˆ°å¦ä¸€ä¸ªæ•°å­—ä¹‹å‰ç»“æŸçš„æ‰€æœ‰æ•°å­—çš„åºåˆ—ï¼Œå¹¶ä½¿ç”¨`rev`åè½¬ rangeï¼š
  ```rust
  fn main() {
      for number in (1..4).rev() {
          println!("{number}!");
      }
      println!("LIFTOFF!!!");
  }
  _______________________________
  3!
  2!
  1!
  LIFTOFF!!!
  ```
  
  
